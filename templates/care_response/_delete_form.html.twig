<!-- Hidden Delete Form -->
<form id="deleteResponseForm" method="POST" action="" style="display: none;">
    <input type="hidden" name="_method" value="DELETE">
    <input type="hidden" name="_token" value="{{ csrf_token('delete-response') }}">
</form>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" class="modal fade">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Delete Response</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this response?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript -->
<script>
document.addEventListener("DOMContentLoaded", function() {
    var deleteModal = document.getElementById('deleteModal');
    var deleteResponseForm = document.getElementById('deleteResponseForm');
    var confirmDeleteBtn = document.getElementById('confirmDeleteBtn');

    document.querySelectorAll('.delete-response-btn').forEach(function(button) {
        button.addEventListener('click', function() {
            var responseId = this.getAttribute('data-response-id');
            deleteResponseForm.action = `/care-response/${responseId}/delete`; // Ensure this matches the route
        });
    });

    confirmDeleteBtn.addEventListener('click', function() {
        deleteResponseForm.submit();
    });
});
</script>